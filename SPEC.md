# Project Synapse MVP: People Synthesis Specification (Text-Based)

**Version:** 1.1 (Alternative Text-Based Approach)
**Date:** April 28, 2025
**Goal:** Define an alternative algorithm, text-based output formats, and LLM prompts for an MVP focused on synthesizing information about key individuals from meeting transcripts using a MapReduce approach, prioritizing structured text outputs over strict JSON.

## 1. Overview

This MVP processes plain text meeting transcripts to automatically identify key individuals and synthesize information about them using a two-phase MapReduce approach with an LLM (e.g., Gemini 2.5 Pro). This version emphasizes structured text (Markdown) outputs.

* **Map Phase:** Processes each transcript individually. For each key person identified, it generates a structured text block (Markdown) summarizing their involvement *in that specific transcript*.
* **Reduce Phase:** Concatenates all text blocks generated by the Map phase. It then processes this combined text using the LLM to perform entity resolution and synthesize a final, comprehensive profile for each unique person, also formatted as structured text (Markdown).

## 2. Data Formats (Structured Text/Markdown)

The data formats for both the intermediate Map phase outputs and the final Reduce phase outputs are defined in their respective YAML files. This ensures a single source of truth for the data structures.

### 2.1. Intermediate Format (Map Phase Output)

**File:** [prompt.yaml](./prompt.yaml) (see `map_prompt` section)

The Map phase generates structured Markdown blocks for each person identified in a transcript. Each block contains fields for the person's name, contributions, action items, decisions, opinions, and interactions.

### 2.2. Final Output Format (Reduce Phase Output)

**File:** [prompt.yaml](./prompt.yaml) (see `reduce_prompt` section)

The Reduce phase produces comprehensive Markdown profiles for each unique person identified across all transcripts. These profiles include consolidated information about the person's role, activities, action items, decisions, opinions, and collaborations. 

## 3. LLM Prompts (Text-Based Approach)

The prompts for the Map and Reduce phases are defined in their respective YAML files rather than duplicated here:

### 3.1. Map Phase Prompt

**File:** [prompt.yaml](prompt.yaml) (see `map_prompt` section)

The Map phase prompt processes a single transcript to identify key people and generate structured Markdown blocks for each person identified. See the file for the complete implementation.

### 3.2. Reduce Phase Prompt

**File:** [prompt.yaml](prompt.yaml) (see `reduce_prompt` section)

The Reduce phase prompt aggregates the text blocks from the Map phase, performs entity resolution, and synthesizes final Markdown profiles for each unique person identified. See the file for the complete implementation.

## 4. Implementation Notes

* **Parsing/Concatenation:** The primary technical change is handling text concatenation and potentially basic parsing of the Map output if needed before feeding it to the Reduce prompt (though ideally, the Reduce LLM handles the raw concatenated text).
* **Robustness:** This approach relies heavily on the LLM's ability to understand the structure implied by Markdown and perform entity resolution based on textual context. Prompt clarity is paramount.
* **Downstream Use:** This format is less suitable for direct machine processing than JSON. If programmatic use is a future requirement, this approach might need adaptation or a final conversion step.
* **Prompt Tuning:** As with the JSON approach, iterative refinement of prompts based on output quality will be crucial.
